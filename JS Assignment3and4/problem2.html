<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
</head>
<body>

<h2>Registration Form</h2>

Name: <input type="text" id="name" onchange="validateName()">
<span id="nameMsg" style="color:red;"></span>
<br><br>

Email: <input type="text" id="email" onchange="validateEmail()">
<span id="emailMsg" style="color:red;"></span>
<br><br>

Age: <input type="number" id="age" onchange="validateAge()">
<span id="ageMsg" style="color:red;"></span>
<br><br>

<button onclick="submitForm()">Submit</button>

<p id="successMsg" style="color:green;"></p>

<script>

function validateName() {
    let name = document.getElementById("name").value;
    if (name === "") {
        document.getElementById("nameMsg").innerText = "Name cannot be empty";
    } else {
        document.getElementById("nameMsg").innerText = "";
    }
}

function validateEmail() {
    let email = document.getElementById("email").value;
    if (!email.includes("@")) {
        document.getElementById("emailMsg").innerText = "Invalid Email";
    } else {
        document.getElementById("emailMsg").innerText = "";
    }
}

function validateAge() {
    let age = document.getElementById("age").value;
    if (age <= 18) {
        document.getElementById("ageMsg").innerText = "Age must be above 18";
    } else {
        document.getElementById("ageMsg").innerText = "";
    }
}

function submitForm() {
    let name = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let age = document.getElementById("age").value;

    if (name !== "" && email.includes("@") && age > 18) {
        sessionStorage.setItem("userData", JSON.stringify({name, email, age}));
        document.getElementById("successMsg").innerText = "Registration Successful!";
    } else {
        alert("Please fix validation errors!");
    }
}

</script>

</body>
</html>